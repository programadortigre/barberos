<template>
  <div class="modal-overlay">
    <div class="modal-content">
      <h3>{{ isEditing ? 'Editar Usuario' : 'Nuevo Usuario' }}</h3>
      
      <form @submit.prevent="submitForm">
        <!-- Secci칩n de credenciales -->
        <div class="form-section">
          <label>Username:</label>
          <input v-model="formData.username" required>
          
          <label>Contrase침a:</label>
          <input type="password" v-model="formData.password">
        </div>

        <!-- Selecci칩n de Rol -->
        <div class="form-section">
          <label>Rol:</label>
          <select v-model="formData.rol_id" required>
            <option v-for="role in roles" :value="role.id">{{ role.nombre }}</option>
          </select>
        </div>

        <!-- Informaci칩n Personal vinculada -->
        <PersonaForm :personaData="formData.persona" @update="updatePersona"/>
        
        <div class="form-actions">
          <button type="button" @click="$emit('close')">Cancelar</button>
          <button type="submit">Guardar</button>
        </div>
      </form>
    </div>
  </div>
</template>